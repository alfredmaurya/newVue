(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{"013f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("q-form",{staticClass:"q-gutter-md",on:{submit:e.onSubmit}},[a("q-card",{staticClass:"q-pa-sm shadow-0 authCard"},[a("q-card-section",{staticClass:"q-py-none"},[a("h2",{staticClass:"q-ma-none text-weight-medium text-h6 text-left text-dark"},[e._v("\n          Login\n        ")])]),a("q-card-section",[a("div",{staticClass:"form-field"},[a("q-input",{attrs:{type:"email",label:"Email",rules:[e.$rules.required(),e.$rules.email()],"lazy-rules":""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:e.credentials.email,expression:"credentials.email"}],attrs:{name:"cancel"},on:{click:function(t){e.credentials.email=""}}})]},proxy:!0}]),model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email","string"===typeof t?t.trim():t)},expression:"credentials.email"}})],1),a("div",{staticClass:"form-field"},[a("q-input",{attrs:{square:"",type:e.isPwd?"password":"text",label:"Password",rules:[e.$rules.required()],"lazy-rules":""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password","string"===typeof t?t.trim():t)},expression:"credentials.password"}})],1)]),a("q-card-actions",{staticClass:"q-px-md form-action"},[a("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",unelevated:"",color:"primary",size:"md",label:"Login Now",type:"submit",loading:e.submitting}})],1),a("q-card-section",{staticClass:"q-px-md text-center"},[a("router-link",{staticClass:"text-primary no-underline",attrs:{to:{name:"ForgotPassword"}}},[e._v("\n          Forgot Password?\n        ")])],1)],1)],1)],1)},r=[],i=a("c973"),n=a.n(i),o=a("ded3"),l=a.n(o),c=(a("96cf"),a("2f62")),u={name:"Login",computed:l()({},Object(c["b"])("auth",["userData"])),data:function(){return{submitting:!1,isPwd:!0,credentials:{email:"",password:""}}},methods:{onSubmit:function(){var e=this;this.submitting=!0,this.$store.dispatch("auth/logIn",this.credentials).then(function(){var t=n()(regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.status||!a.data){t.next=11;break}return t.next=3,e.$store.dispatch("auth/getCurrentEmployee");case 3:s=e.userData,localStorage.setItem("role",s.role.role_key),localStorage.setItem("firstName",s.first_name),localStorage.setItem("lastName",s.last_name),localStorage.setItem("userEmail",s.email),s&&s.role&&"super-admin"!=s.role.role_key&&e.hasPermission("booking_view")?e.$router.push({name:"Booking"}):e.$router.push({name:"Homepage"}),t.next=13;break;case 11:e.showError(a.message,"bottom-right"),e.submitting=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){e.submitting=!1}))}}},d=u,m=a("2877"),p=a("0378"),f=a("f09f"),w=a("a370"),h=a("27f9"),b=a("0016"),g=a("4b7e"),q=a("9c40"),v=a("eebe"),y=a.n(v),x=Object(m["a"])(d,s,r,!1,null,null,null);t["default"]=x.exports;y()(x,"components",{QForm:p["a"],QCard:f["a"],QCardSection:w["a"],QInput:h["a"],QIcon:b["a"],QCardActions:g["a"],QBtn:q["a"]})}}]);