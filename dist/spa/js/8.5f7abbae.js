(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"4ae9":function(t,a,e){},"8b24":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=this,e=a.$createElement,i=a._self._c||e;return i("q-page",{style:a.isMobile?"":"padding-top: 60px"},[!a.isMobile&&a.hasPermission("dashboard_view")?i("q-page-sticky",{attrs:{expand:"",position:"top"}},[i("q-toolbar",{staticClass:"bg-white text-dark q-pa-none toolbar",attrs:{inset:""}},[i("q-toolbar-title",{staticClass:"text-dark col-auto q-pa-sm"},[a._v("\n        Dashboard\n      ")]),i("div",{staticClass:"breadcrumb-filters ml-auto flex q-mr-sm center"},[i("q-select",{staticClass:"q-mr-md headdropdown",attrs:{outlined:"",label:"Select Park","lazy-rules":"",options:a.parkOptions,"option-label":"title","emit-value":"","use-input":"",loading:a.loadingParks,disable:a.loadingParks,clearable:""},on:{filter:a.filterPark,input:function(){t.getDashboard(),t.getAccomodationType(a.park,a.subtype)}},scopedSlots:a._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[a._v(" No results ")])],1)]},proxy:!0}],null,!1,2131674287),model:{value:a.park,callback:function(t){a.park=t},expression:"park"}}),i("q-select",{staticClass:"q-mr-md headdropdown",attrs:{outlined:"",label:"Select Subtype","lazy-rules":"",options:a.subtypes,"option-label":"title","emit-value":"","use-input":"",clearable:""},on:{input:function(){t.getDashboard(),t.getAccomodationType(a.park,a.subtype)}},scopedSlots:a._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[a._v(" No results ")])],1)]},proxy:!0}],null,!1,2131674287),model:{value:a.subtype,callback:function(t){a.subtype=t},expression:"subtype"}}),i("q-select",{staticClass:"q-mr-md headdropdown",attrs:{outlined:"",label:"Select accommodation","lazy-rules":"",options:a.accommodationOptions,"option-label":"title","emit-value":"","use-input":"",loading:a.loadingAccommodationType,disable:a.loadingAccommodationType,clearable:""},on:{filter:a.filterAccommodationType,input:function(){t.getDashboard()}},scopedSlots:a._u([{key:"no-option",fn:function(){return[i("q-item",[i("q-item-section",{staticClass:"text-grey"},[a._v(" No results ")])],1)]},proxy:!0}],null,!1,2131674287),model:{value:a.accommodationType,callback:function(t){a.accommodationType=t},expression:"accommodationType"}}),i("div",{staticClass:"q-pa-md date-pick"},[i("q-input",{attrs:{filled:"",mask:"date",rules:["date"]},on:{change:a.refreshDashboard},scopedSlots:a._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{on:{click:a.refreshDashboard},model:{value:a.model.from,callback:function(t){a.$set(a.model,"from",t)},expression:"model.from"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,4066389414),model:{value:a.model.from,callback:function(t){a.$set(a.model,"from",t)},expression:"model.from"}})],1),i("div",{staticClass:"q-pa-md date-pick"},[i("q-input",{attrs:{filled:"",mask:"date",rules:["date"]},on:{change:a.refreshDashboard},scopedSlots:a._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{on:{click:a.refreshDashboard},model:{value:a.model.to,callback:function(t){a.$set(a.model,"to",t)},expression:"model.to"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1928941675),model:{value:a.model.to,callback:function(t){a.$set(a.model,"to",t)},expression:"model.to"}})],1)],1)],1)],1):a._e(),a.hasPermission("dashboard_view")?i("div",{staticClass:"container q-px-lg q-pb-lg"},[i("div",{staticClass:"row q-my-md light-shadow",staticStyle:{"border-radius":"4px",border:"1px solid rgba(0, 0, 0, 0.12)"}},[i("div",{staticClass:"col-md-4 col-lg-4 col-sm-12 col-xs-12 box_1"},[i("q-card",{staticClass:"no-shadow q-pa-sm"},[i("q-item",{staticClass:"q-pb-none q-pt-xs"},[i("q-item-section",[i("q-item-label",{staticClass:"text-h4",staticStyle:{"font-weight":"500","letter-spacing":"3px"}},[a._v("\n                "+a._s(a.dashboardObj.total_booking)+"\n              ")]),i("q-item-label",{class:a.$q.dark.isActive?"text-white":"text-grey-7",staticStyle:{"letter-spacing":"1px"}},[a._v("\n                Total Booking\n              ")])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"box_1",attrs:{name:"event",size:"60px"}})],1)],1),i("q-item",{staticClass:"q-py-xs",staticStyle:{"min-height":"unset"}},[i("q-item-section",[i("div",{staticClass:"progress-base q-my-sm"},[i("div",{staticClass:"progress-bar-1",staticStyle:{width:"70%"}})])])],1)],1)],1),i("div",{staticClass:"col-md-4 col-lg-4 col-sm-12 col-xs-12 box_2",class:{"border-top":a.$q.platform.is.mobile},staticStyle:{"border-left":"1px solid #efefef"}},[i("q-card",{staticClass:"no-shadow q-pa-sm"},[i("q-item",{staticClass:"q-pb-none q-pt-xs"},[i("q-item-section",[i("q-item-label",{staticClass:"text-h4",staticStyle:{"font-weight":"500","letter-spacing":"3px"}},[a._v("\n                "+a._s(a.dashboardObj.total_customers)+"\n              ")]),i("q-item-label",{class:a.$q.dark.isActive?"text-white":"text-grey-7",staticStyle:{"letter-spacing":"1px"}},[a._v("\n                Total Customer\n              ")])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"box_2",attrs:{name:"people",size:"60px"}})],1)],1),i("q-item",{staticClass:"q-py-xs",staticStyle:{"min-height":"unset"}},[i("q-item-section",[i("div",{staticClass:"progress-base q-my-sm"},[i("div",{staticClass:"progress-bar-2",staticStyle:{width:"40%"}})])])],1)],1)],1),i("div",{staticClass:"col-md-4 col-lg-4 col-sm-12 col-xs-12 box_3",class:{"border-top":a.$q.platform.is.mobile},staticStyle:{"border-left":"1px solid #efefef"}},[i("q-card",{staticClass:"no-shadow q-pa-sm"},[i("q-item",{staticClass:"q-pb-none q-pt-xs"},[i("q-item-section",[i("q-item-label",{staticClass:"text-h4",staticStyle:{"font-weight":"500","letter-spacing":"3px"}},[a._v("\n                "+a._s(a._f("kcurrency")(a.dashboardObj.total_revenue))+"\n              ")]),i("q-item-label",{class:a.$q.dark.isActive?"text-white":"text-grey-7",staticStyle:{"letter-spacing":"1px"}},[a._v("\n                Total Revenue\n              ")])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"box_3",attrs:{name:"account_balance",size:"60px"}})],1)],1),i("q-item",{staticClass:"q-py-xs",staticStyle:{"min-height":"unset"}},[i("q-item-section",[i("div",{staticClass:"progress-base q-my-sm"},[i("div",{staticClass:"progress-bar-3",staticStyle:{width:"80%"}})])])],1)],1)],1)]),i("div",{staticClass:"row q-col-gutter-md"},[i("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[i("q-card",{staticClass:"light-shadow q-pa-none q-ma-none",attrs:{flat:"",bordered:""}},[i("q-card-section",{staticClass:"row"},[i("div",{staticClass:"text-h6 col-12",class:a.$q.dark.isActive?"text-white":"text-grey-7"},[a._v("\n              Day Wise Booking\n              "),i("q-btn",{staticClass:"float-right",attrs:{flat:"",dense:"",color:a.$q.dark.isActive?"white":"grey-8",icon:"file_download"},on:{click:function(t){return a.SaveImage("day_booking")}}},[i("q-tooltip",[a._v("Download")])],1)],1)]),i("q-separator",{staticClass:"full-width",attrs:{inset:""}}),i("q-card-section",[i("IEcharts",{ref:"market_share",staticStyle:{height:"320px"},attrs:{option:a.getBarChartOptions,resizable:!0}})],1)],1)],1)]),i("div",{staticClass:"row q-col-gutter-md q-pt-md"},[i("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},[i("q-card",{staticClass:"light-shadow q-pa-none q-ma-none",attrs:{flat:"",bordered:""}},[i("q-card-section",[i("div",{staticClass:"text-h6",class:a.$q.dark.isActive?"text-white":"text-grey-7"},[a._v("\n              Park Booking\n              "),i("q-btn",{staticClass:"float-right",attrs:{flat:"",dense:"",color:a.$q.dark.isActive?"white":"grey-8",icon:"file_download"},on:{click:function(t){return a.SaveImage("park_booking")}}},[i("q-tooltip",[a._v("Download")])],1)],1)]),i("q-separator",{staticClass:"full-width",attrs:{inset:""}}),i("q-card-section",[i("IEcharts",{ref:"park_booking",staticStyle:{height:"270px"},attrs:{option:a.pieOptions,resizable:!0}})],1)],1)],1),i("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},[i("q-card",{staticClass:"light-shadow q-pa-none q-ma-none",attrs:{flat:"",bordered:""}},[i("q-card-section",[i("div",{staticClass:"text-h6",class:a.$q.dark.isActive?"text-white":"text-grey-7"},[a._v("\n              Park Booking List\n            ")])]),i("q-separator",{staticClass:"full-width",attrs:{inset:""}}),i("div",{staticClass:"q-pa-md right-dash-box"},[i("q-markup-table",{attrs:{flat:"",bordered:""}},[i("thead",{staticClass:"bg-primary text-white"},[i("tr",[i("th",{staticClass:"text-left"},[a._v("No")]),i("th",{staticClass:"text-left"},[a._v("Map")]),i("th",{staticClass:"text-right"},[a._v("Percentage")])])]),i("tbody",a._l(a.dashboardObj.park_wise_booking_count,(function(t,e){return i("tr",{key:e},[i("td",{staticClass:"text-left"},[a._v(a._s(e+1))]),i("td",{staticClass:"text-left"},[a._v(a._s(t.park_name))]),i("td",{staticClass:"text-right"},[a._v(a._s(t.total_count))])])})),0)])],1)],1)],1)]),a._e()]):a._e()],1)},o=[],s=e("7037"),n=e.n(s),r=(e("a15b"),e("ac1f"),e("1276"),e("b0c0"),e("d3b7"),e("159b"),e("4de4"),e("e6cf"),e("a79d"),e("99af"),e("d81d"),e("2b0e")),l=e("ce44"),c=e("313e"),d=e.n(c),p=e("bd4c"),m=e("a357"),h=e("9645");function u(t,a){var e=void 0!==a?a(t):t;return e=void 0===e||null===e?"":String(e),e=e.split('"').join('""'),'"'.concat(e,'"')}r["a"].component("IEcharts",l["a"]);var b={data:function(){return{parkOptions:[],loadingAccommodationType:!1,park:"",subtype:"",subtypes:[{id:0,title:"All Subtypes"},{id:1,title:"RVS"},{id:2,title:"Cabins"}],accommodationType:null,parks:[],accommodation:[],accommodationOptions:[],loadingParks:!1,filter:"",mode:"list",columns:[{name:"activity_id",align:"left",label:"Activity ID",field:"activity_id",sortable:!0},{name:"desc",required:!0,label:"Activity Name",align:"left",field:function(t){return t.name},sortable:!0},{name:"regarding",align:"left",label:"Regarding",field:"regarding",sortable:!0},{name:"owner",align:"left",label:"Owner",field:"owner",sortable:!0},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"creation_date",align:"left",label:"Creation Date",field:"creation_date",sortable:!0}],data:[{activity_id:"C001",name:"Advanced communications",regarding:"Presentation",owner:"John",status:"Pending",creation_date:"12-09-2019"},{activity_id:"C002",name:"New drug discussion",regarding:"Meeting",owner:"John",status:"Completed",creation_date:"09-02-2019"},{activity_id:"C003",name:"Universal services discussion",regarding:"Meeting",owner:"John",status:"Completed",creation_date:"03-25-2019"},{activity_id:"C004",name:"Add on business",regarding:"Business",owner:"John",status:"Pending",creation_date:"03-18-2019"},{activity_id:"C005",name:"Promotional Activity",regarding:"Personal",owner:"John",status:"Completed",creation_date:"04-09-2019"}],pagination:{rowsPerPage:10},model:{from:p["b"].formatDate(new Date((new Date).getFullYear(),0,1),"YYYY/MM/DD"),to:p["b"].formatDate(new Date,"YYYY/MM/DD")},proxyDate:null,dashboardObj:{}}},computed:{getBarChartOptions:function(){var t=[],a=[];return this.dashboardObj&&this.dashboardObj.day_wise_booking&&this.dashboardObj.day_wise_booking.forEach((function(e){t.push(e.booking_date),a.push(e.total_count)})),{xAxis:{data:t,axisLabel:{inside:!1,color:this.$q.dark.isActive?"white":"#676767"},axisTick:{show:!1},axisLine:{lineStyle:{color:"grey"},show:!1},z:10},tooltip:{},legend:{show:!0,textStyle:{color:this.$q.dark.isActive?"white":"#676767"}},grid:{bottom:"9%",left:"9%",top:"10%",right:"5%",show:!0},yAxis:{axisLine:{lineStyle:{color:"grey"},show:!1},axisTick:{show:!1},axisLabel:{color:this.$q.dark.isActive?"white":"#676767"}},series:[{name:"Boking",type:"bar",data:a,itemStyle:{normal:{color:new d.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#3862b5"},{offset:.5,color:"#3862b5"},{offset:1,color:"#3862b5"}])},emphasis:{color:new d.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#3862b5"},{offset:.7,color:"#3862b5"},{offset:1,color:"#3862b5"}])}}}]}},areaChartOption:function(){return{legend:{textStyle:{color:this.$q.dark.isActive?"white":"#676767"}},grid:{bottom:"9%",left:"9%",top:"10%",right:"5%",show:!0},tooltip:{show:!0},xAxis:{type:"category",data:["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sep"],axisLine:{lineStyle:{color:"grey"},show:!1},axisTick:{show:!1},axisLabel:{color:this.$q.dark.isActive?"white":"#676767"}},yAxis:{type:"value",axisLine:{lineStyle:{color:"grey"},show:!1},axisTick:{show:!1},axisLabel:{color:this.$q.dark.isActive?"white":"#676767"}},series:[{name:"Sales",data:[0,600,300,700,700,1330,600,500,0],type:"line",areaStyle:{},smooth:!0,color:"#e4a3e2"},{name:"Goals",data:[0,300,600,400,1e3,730,840,300,0],type:"line",areaStyle:{},smooth:!0,color:"#25c0ea"}]}},stackedBarOptions:function(){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(50,50,50,0.9)"},legend:{textStyle:{color:this.$q.dark.isActive?"white":"#676767"}},color:["#cc9dd1","#9cebaf","#41eff7"],grid:{bottom:"3%",left:"15%",top:"18%",right:"5%",show:!0},calculable:!0,xAxis:{type:"value",position:"top",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(t,a){return"$"+t},color:this.$q.dark.isActive?"white":"#676767"}},yAxis:[{type:"category",data:["Alex Morrow","Joanna Carter","Jimmy Joanna","Mack Hales"],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{fontSize:12,color:this.$q.dark.isActive?"white":"#676767"}}],series:[{name:"Qualification",type:"bar",stack:"A",data:[300,350,400,500]},{name:"Discovery",type:"bar",stack:"A",data:[100,180,250,300]},{name:"Quote",type:"bar",stack:"A",data:[100,120,200,220]}]}},stackedBarOptions2:function(){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:"rgba(50,50,50,0.9)"},legend:{textStyle:{color:this.$q.dark.isActive?"white":"#676767"}},color:["#cc9dd1","#9cebaf","#41eff7"],grid:{bottom:"3%",left:"15%",top:"18%",right:"5%",show:!0},calculable:!0,xAxis:{type:"value",position:"top",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:function(t,a){return"$"+t},color:this.$q.dark.isActive?"white":"#676767"}},yAxis:[{type:"category",data:["Alex Morrow","Joanna Carter","Jimmy Joanna","Mack Hales"],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{fontSize:12,color:this.$q.dark.isActive?"white":"#676767"}}],series:[{name:"Qualification",type:"bar",stack:"A",data:[300,350,400,500]},{name:"Discovery",type:"bar",stack:"A",data:[100,180,250,300]},{name:"Quote",type:"bar",stack:"A",data:[100,120,200,220]}]}},pieOptions:function(){var t=[];return this.dashboardObj&&this.dashboardObj.park_wise_booking_count&&this.dashboardObj.park_wise_booking_count.forEach((function(a,e){t.push({value:a.total_count,name:a.park_name})})),{tooltip:{show:!0},legend:{orient:"horizontal",bottom:0,width:300,textStyle:{color:this.$q.dark.isActive?"white":"#676767"}},color:["#66e398","#cc9dd1","#f0d377"],series:[{name:"Bookigs",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"inner",formatter:function(t,a){return t.value+" %"}},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},selectedMode:"single",data:t}]}}},methods:{filterPark:function(t,a){var e=this,i=this.parks;a(""!==t?function(){var a=t.toLowerCase();e.parkOptions=i.filter((function(t){return t.title.toLowerCase().indexOf(a)>-1}))}:function(){e.parkOptions=i})},refreshDashboard:function(t){this.getDashboard()},filterAccommodationType:function(t,a){var e=this,i=this.accommodation;a(""!==t?function(){var a=t.toLowerCase();e.accommodationOptions=i.filter((function(t){return t.title.toLowerCase().indexOf(a)>-1}))}:function(){e.accommodationOptions=i})},getDashboard:function(){var t,a,e=this;this.hideShowFullSpinner(!0),this.model&&(t=this.model.from,a=this.model.to);var i={start_date:t,end_date:a};this.park&&(i["park_id"]=this.park.id),this.subtype&&(i["subtype_id"]=this.subtype.id),this.accommodationType&&(i["accommodation_id"]=this.accommodationType.id),this.dashboardObj={},h["g"].get(i).then((function(t){var a=t.data;e.dashboardObj=a.data})).finally((function(){e.hideShowFullSpinner(!1)}))},updateProxy:function(){this.proxyDate=this.model},save:function(){this.proxyDate&&("object"==n()(this.proxyDate)?this.model=this.proxyDate:this.model={from:this.proxyDate,to:p["b"].formatDate(p["b"].addToDate(this.proxyDate,{days:1}),"YYYY/MM/DD")},this.getDashboard())},SaveImage:function(t){var a=this.$refs[t].getDataURL(),e=document.createElement("a");document.body.appendChild(e),e.href=a,e.target="_self",e.download=t+".png",e.click()},exportTable:function(){var t=this,a=[this.columns.map((function(t){return u(t.label)}))].concat(this.data.map((function(a){return t.columns.map((function(t){return u("function"===typeof t.field?t.field(a):a[void 0===t.field?t.name:t.field],t.format)})).join(",")}))).join("\r\n"),e=Object(m["a"])("activity.csv",a,"text/csv");!0!==e&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},getAccomodationType:function(t,a){var e=this;if(t&&t.id){var i={pagination:0};i["park_id"]=t.id,a&&(i["subtype_id"]=a.id),this.accommodationType=null,this.loadingAccommodationType=!0,this.$store.dispatch("accommodation/getListing",i).then((function(t){t.status&&t.data&&(e.accommodation=e.accommodationOptions=t.data)})).finally((function(){e.loadingParks=!1,e.loadingAccommodationType=!1}))}else this.accommodation=this.accommodationOptions=[],this.accommodationType=null}},created:function(){var t=this;this.getDashboard(),this.loadingParks=!0,this.$store.dispatch("parks/getListing",{pagination:0}).then((function(a){a.status&&a.data&&(t.parks=t.parkOptions=a.data)})).finally((function(){t.loadingParks=!1}))}},f=b,g=(e("b1c5"),e("2877")),y=e("9989"),x=e("de5e"),v=e("65c6"),q=e("6ac5"),k=e("ddd8"),w=e("66e5"),_=e("4074"),C=e("27f9"),S=e("0016"),A=e("7cbe"),D=e("52ee"),T=e("9c40"),O=e("f09f"),$=e("0170"),P=e("a370"),L=e("05c0"),Q=e("eb85"),j=e("2bb1"),M=e("eaac"),J=e("db86"),z=e("b047"),B=e("7f67"),Y=e("eebe"),I=e.n(Y),N=Object(g["a"])(f,i,o,!1,null,"4151a68e",null);a["default"]=N.exports;I()(N,"components",{QPage:y["a"],QPageSticky:x["a"],QToolbar:v["a"],QToolbarTitle:q["a"],QSelect:k["a"],QItem:w["a"],QItemSection:_["a"],QInput:C["a"],QIcon:S["a"],QPopupProxy:A["a"],QDate:D["a"],QBtn:T["a"],QCard:O["a"],QItemLabel:$["a"],QCardSection:P["a"],QTooltip:L["a"],QSeparator:Q["a"],QMarkupTable:j["a"],QTable:M["a"],QTd:J["a"],QChip:z["a"]}),I()(N,"directives",{ClosePopup:B["a"]})},b1c5:function(t,a,e){"use strict";e("4ae9")}}]);